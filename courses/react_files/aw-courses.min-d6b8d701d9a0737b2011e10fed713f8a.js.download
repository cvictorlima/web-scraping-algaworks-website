function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var AWFilterQuestions=AWFilterQuestions||{};AWFilterQuestions.started=!1,AWFilterQuestions.createFilter=function(){var _FILTERS_MAP,_RESTRICTIONS_MAP,DATE_FORMAT="DD-MM-YYYY HH:mm",CREATED_QUERY_STR_KEY="Criada",QUESTION_STR="pergunta",REPLY_STR="resposta",TODAY_PREDICATE_SUFFIX="hoje",YESTERDAY_PREDICATE_SUFFIX="ontem",LASTS_PREDICATE_SUFFIX="ultimos",DAYS_PREDICATE_SUFFIX="dias",DEFAULT_SUPPORT_QUERY_STRING="filtroSuporte",QUESTION_PAGE_NUMBER_KEY="pagina",today=moment().format(DATE_FORMAT),todayStart=moment().startOf("day").format(DATE_FORMAT),todayEnd=moment().endOf("day").format(DATE_FORMAT),yesterdayStart=moment().subtract(1,"days").startOf("day").format(DATE_FORMAT),yesterdayEnd=moment().subtract(1,"days").endOf("day").format(DATE_FORMAT),lastThreeDayStart=moment().subtract(3,"days").startOf("day").format(DATE_FORMAT),lastSevenDayStart=moment().subtract(7,"days").startOf("day").format(DATE_FORMAT),lastThirtyDayStart=moment().subtract(30,"days").startOf("day").format(DATE_FORMAT),aDayBefore=moment().subtract(24,"hours").format(DATE_FORMAT),TODAY_QUESTION="pergunta-hoje",YESTERDAY_QUESTION="pergunta-ontem",LAST_SEVEN_DAYS_QUESTION="pergunta-ultimos-7-dias",REPLIED_BY_ME="respondida-por-mim",CREATED_BY_ME="enviada-por-mim",TODAY_LAST_INTERACTION="ultima-interacao-hoje",YESTERDAY_LAST_INTERACTION="ultima-interacao-ontem",LAST_SEVEN_DAYS_INTERACTION="ultima-interacao-7-dias",RESOLVED="resolvida",OPENED="aberta",STUDENT_LAST_INTERACTION="ultima-interacao-aluno",EDUCATIONAL_TEAM_LAST_INTERACTION="ultima-interação-equipe-educacional",NEEDS_ATTENTION="necessita-atencao",HAS_NO_EDUCATIONAL_TEAM_REPLY="sem-resposta-equipe-educacional",HAS_NO_REPLY="sem-resposta",A_DAY_WITHOUT_REPLY="um-dia-sem-resposta",FILTERS_MAP=(_FILTERS_MAP={},_defineProperty(_FILTERS_MAP,TODAY_QUESTION,{perguntaCriadaEm:todayStart,perguntaCriadaAte:todayEnd}),_defineProperty(_FILTERS_MAP,YESTERDAY_QUESTION,{perguntaCriadaEm:yesterdayStart,perguntaCriadaAte:yesterdayEnd}),_defineProperty(_FILTERS_MAP,LAST_SEVEN_DAYS_QUESTION,{perguntaCriadaEm:lastSevenDayStart,perguntaCriadaAte:today}),_defineProperty(_FILTERS_MAP,REPLIED_BY_ME,{respondidaPorMim:!0}),_defineProperty(_FILTERS_MAP,CREATED_BY_ME,{enviadaPorMim:!0}),_defineProperty(_FILTERS_MAP,TODAY_LAST_INTERACTION,{ultimaInteracaoEm:todayStart,ultimaInteracaoAte:todayEnd}),_defineProperty(_FILTERS_MAP,YESTERDAY_LAST_INTERACTION,{ultimaInteracaoEm:yesterdayStart,ultimaInteracaoAte:yesterdayEnd}),_defineProperty(_FILTERS_MAP,LAST_SEVEN_DAYS_INTERACTION,{ultimaInteracaoEm:lastSevenDayStart,ultimaInteracaoAte:today}),_defineProperty(_FILTERS_MAP,RESOLVED,{status:"RESOLVED"}),_defineProperty(_FILTERS_MAP,OPENED,{status:"OPENED"}),_defineProperty(_FILTERS_MAP,STUDENT_LAST_INTERACTION,{ultimaInteracaoAluno:!0}),_defineProperty(_FILTERS_MAP,EDUCATIONAL_TEAM_LAST_INTERACTION,{ultimaInteracaoTimeEducacional:!0}),_defineProperty(_FILTERS_MAP,NEEDS_ATTENTION,{precisaAtencao:!0}),_defineProperty(_FILTERS_MAP,HAS_NO_EDUCATIONAL_TEAM_REPLY,{nenhumaRespostaTimeEducacional:!0}),_defineProperty(_FILTERS_MAP,HAS_NO_REPLY,{semResposta:!0}),_defineProperty(_FILTERS_MAP,A_DAY_WITHOUT_REPLY,{ultimaInteracaoAte:aDayBefore,status:"OPENED"}),_FILTERS_MAP),RESTRICTIONS_MAP=(_RESTRICTIONS_MAP={},_defineProperty(_RESTRICTIONS_MAP,TODAY_QUESTION,[YESTERDAY_QUESTION,LAST_SEVEN_DAYS_QUESTION]),_defineProperty(_RESTRICTIONS_MAP,YESTERDAY_QUESTION,[TODAY_QUESTION,LAST_SEVEN_DAYS_QUESTION]),_defineProperty(_RESTRICTIONS_MAP,LAST_SEVEN_DAYS_QUESTION,[TODAY_QUESTION,YESTERDAY_QUESTION]),_defineProperty(_RESTRICTIONS_MAP,TODAY_LAST_INTERACTION,[YESTERDAY_LAST_INTERACTION,LAST_SEVEN_DAYS_INTERACTION]),_defineProperty(_RESTRICTIONS_MAP,YESTERDAY_LAST_INTERACTION,[TODAY_LAST_INTERACTION,LAST_SEVEN_DAYS_INTERACTION]),_defineProperty(_RESTRICTIONS_MAP,LAST_SEVEN_DAYS_INTERACTION,[TODAY_LAST_INTERACTION,YESTERDAY_LAST_INTERACTION]),_defineProperty(_RESTRICTIONS_MAP,RESOLVED,[OPENED,NEEDS_ATTENTION]),_defineProperty(_RESTRICTIONS_MAP,OPENED,[RESOLVED]),_defineProperty(_RESTRICTIONS_MAP,STUDENT_LAST_INTERACTION,[EDUCATIONAL_TEAM_LAST_INTERACTION]),_defineProperty(_RESTRICTIONS_MAP,EDUCATIONAL_TEAM_LAST_INTERACTION,[STUDENT_LAST_INTERACTION]),_RESTRICTIONS_MAP),queryStringToObject=function queryStringToObject(queryString){var pairs=queryString.slice(1).split("&"),queryStrings=[];return pairs.forEach(function(pair){pair=pair.split("=");var filter=new Object,key=pair[0],value=pair[1];filter[key]="true"==value||"false"==value?eval(value):decodeURIComponent(value)||"",queryStrings.push(filter)}),JSON.parse(JSON.stringify(queryStrings))},getFilterKey=function(e){if(e){if("string"==typeof e)for(var t in FILTERS_MAP)if(Object.keys(FILTERS_MAP[t])[0]==e)return t;for(var t in FILTERS_MAP)if(Object.keys(FILTERS_MAP[t])[0]==Object.keys(e)[0]&&Object.values(FILTERS_MAP[t])[0]==Object.values(e)[0])return t}},getFilterItemFromKey=function(e){return $("[data-filtered-value='"+e+"']")},hasFilterConflicts=function(r){var i=!1;return $(".js-filter-predicate-item").each(function(e,t){var a=$(t).data("filtered-value");null!=RESTRICTIONS_MAP[r]&&null!=RESTRICTIONS_MAP[r]&&0<=RESTRICTIONS_MAP[r].indexOf(a)&&(i=!0)}),i},removeAllConflictedFilters=function(e){var t=RESTRICTIONS_MAP[e];null!=t&&null!=t&&t.forEach(function(e){var t=getFilterItemFromKey(e);$(t).remove()})},addPredicateFromFilterItem=function(e){var t=$(e).data("filter-value"),a=$(e).data("filter-title");$(e).text();0<$("[data-filtered-value='"+t+"']").length||(hasFilterConflicts(t)&&removeAllConflictedFilters(t),0==$(".js-predicates-list").length&&$(".js-dropdown").append('<div class="c-predicate-container js-predicates-list"></div>'),$('<span class="c-predicate-container__item c-predicate-container__item--filled js-filter-predicate-item"data-filtered-value=\''+t+'\'><span class="c-predicate-container__item-content">'+a+"</span></span>").insertBefore(".js-dropdown"),$(".js-predicate-item-default").hide(),$(".js-filter-predicate-item").click(function(e){e.offsetX>this.querySelector("span").offsetWidth&&($(this).remove(),0==$(".js-filter-predicate-item").length&&0==$(".js-predicate-item-default:visible").length&&$(".js-predicate-item-default").show(),search())}))},isValidDate=function(e){return moment(e,DATE_FORMAT,!0).isValid()},getFilterValueFromDates=function(e,t,a){var r=Math.abs(moment.duration(moment.min(a,t).diff(moment())).asDays()),i=parseInt(Math.round(100*r)/100);return(0<e.indexOf(CREATED_QUERY_STR_KEY)?QUESTION_STR:REPLY_STR)+(0==i?"-"+TODAY_PREDICATE_SUFFIX:1==i?"-"+YESTERDAY_PREDICATE_SUFFIX:"-"+LASTS_PREDICATE_SUFFIX+"-"+i+"-"+DAYS_PREDICATE_SUFFIX)},addPredicateFromFilterKey=function(e){var t=$("[data-filter-value='"+e+"']");null!=t&&0<t.length&&addPredicateFromFilterItem(t)},searchFromQueryString=function(){var e,t=queryStringToObject(location.search),a=0;if(null!=t[0]&&(a=null!=(e=t[0][QUESTION_PAGE_NUMBER_KEY])&&null!=e&&0<=e?e:a),null!=t[0]&&1==t[0][DEFAULT_SUPPORT_QUERY_STRING])return addPredicateFromFilterKey(NEEDS_ATTENTION),void search(a);t.forEach(function(e){var t=Object.keys(e)[0],a=FILTERS_MAP[t];t&&""!=t&&null!=a&&null!=a&&addPredicateFromFilterKey(t)}),search(a)},predicatesToQueryString=function(){var a="";return $(".js-filter-predicate-item").each(function(e,t){a+="&",a+=$(t).data("filtered-value")}),a},removeUrlParam=function(e,t){return e.replace(new RegExp("[?&]"+t+"=[^&#]*(#.*)?$"),"$1").replace(new RegExp("([?&])"+t+"=[^&]*&"),"$1")},sendSearchRequest=function(e,r){var t=$("[name='_csrf']").val();$.ajax({contentType:"application/json",dataType:"json",url:e,type:"GET",beforeSend:function(e){e.setRequestHeader("X-CSRF-TOKEN",t)},statusCode:{200:function(e){var t,a="?"+QUESTION_PAGE_NUMBER_KEY+"="+r;a+=predicatesToQueryString(),history.pushState&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+a,window.history.pushState({path:t},"",t)),$(".js-forum-questions-list").html(e.responseText),$(".js-pagination a:not(.js-page-disabled)").click(function(){search($(this).data("page-number"))}),NProgress.done()}}})},search=function(e){var t=0<arguments.length&&void 0!==e?e:0;NProgress.start();var a=$("#course_id").val(),r=$("#lesson_id").val(),i="?"+QUESTION_PAGE_NUMBER_KEY+"="+ +t;i+=null!=a&&null!=a?"&courseId="+a:"",i+=null!=r&&null!=r?"&lessonId="+r:"",$(".js-filter-predicate-item").each(function(e,t){var a=getRelationFilter($(t).data("filtered-value"));null!=a&&(i+=1<i.length?"&":"",i+=$.param(a))});var n=[location.protocol,"//",location.host,"/forum/pesquisa",i].join("");sendSearchRequest(n,t)},getRelationFilter=function(e){return FILTERS_MAP[e]};$(".js-filter-dialog-link").click(function(){$(".js-filter-dialog").show(),$(".js-filter-dialog").focus()}),$(".js-filter-dialog").focusout(function(e){0==$(this).has(e.relatedTarget).length&&$(this).hide()}),$(".js-item-group").click(function(){$(this).hasClass("is-expanded")||$(".js-item-group").removeClass("is-expanded"),$(this).toggleClass("is-expanded")}),$(".js-filter-value").click(function(){addPredicateFromFilterItem(this),search()}),searchFromQueryString()},AWFilterQuestions.start=function(){AWFilterQuestions.started||(AWFilterQuestions.createFilter(),AWFilterQuestions.started=!0)};var AWAccordionGroup=AWAccordionGroup||{};AWAccordionGroup.init=void $(".js-accordion-group").find(".js-accordion-group-toggle").click(function(){$(this).next().slideToggle("fast"),$(".js-accordion-group-content").not($(this).next()).slideUp("fast")});var AWAccordion=AWAccordion||{};AWAccordion.init=function(){var i="awSelectedTab",c="accordion-pane-id";$(".js-accordion-tab").on("click",function(){o(this)});var a,o=function(a){$(a).hasClass("is-active")||(t(a),$(a).addClass("is-active"),s(a),sessionStorage.setItem(i,$(a).data(c)))},s=function(a){var i=$(a).data("accordion-pane-id");$("#"+i).addClass("is-active")},t=function(a){$(a).closest(".js-accordion").find(".is-active").each(function(a,i){$(i).removeClass("is-active")})};!sessionStorage.getItem(i)||(a=$("[data-"+c+"='"+sessionStorage.getItem(i)+"']"))&&0<a.length&&o(a)}();!function(){var a=document.querySelector(".js-course-page .js-accordion-group-toggle");a&&a.click(),1<location.search.slice(1).split("&").length&&($(".js-accordion-tab").removeClass("is-active"),$("#tab-curriculum").removeClass("is-active"),$("[data-accordion-pane-id='tab-forum']").addClass("is-active"),$("#tab-forum").addClass("is-active"));function i(){"undefined"!=typeof AWFilterQuestions&&AWFilterQuestions.start()}$("[data-accordion-pane-id='tab-forum']").click(function(){i()}),$("[data-accordion-pane-id='tab-forum']").hasClass("is-active")&&i()}();!function(){VIDEO_ENDED_EVENT_NAME="ended",hljs.initHighlightingOnLoad(),$(".js-lesson-not-completed").on("click",function(){s($(".c-course-curriculum__lesson--current"))}),$(".js-current-lesson").parent(".js-accordion-group-content").prev(".js-accordion-group-toggle").click();function e(t){$(t).hasClass("sr-only")?$(t).removeClass("sr-only"):$(t).addClass("sr-only")}function o(){s($(".c-course-curriculum__lesson--current"))}function c(t){return/^(http|https|ftp)s?:\/\//.test(t)}var t=function(t){(t=$(".js-video-lesson iframe")).length&&new Vimeo.Player(t,{speed:!0}).on(VIDEO_ENDED_EVENT_NAME,o)},n=function(){0!=$(".js-vdo-video").length&&vdo&&vdo.getObjects()&&vdo.getObjects().length&&vdo.getObjects()[0]&&vdo.getObjects()[0].addEventListener(VIDEO_ENDED_EVENT_NAME,o)},s=function(n){var e=$("[name='_csrf']").val(),t=[location.protocol,"//",location.host,location.pathname,"/completion"].join("");$.ajax({contentType:"application/json",dataType:"json",url:t,type:"POST",beforeSend:function(t){t.setRequestHeader("X-CSRF-TOKEN",e)},statusCode:{200:function(){$(n).addClass("c-course-curriculum__lesson--completed"),$(".js-lesson-not-completed").remove(),$(".js-lesson-completed").removeClass("sr-only");var t=new Date,e=1<(e=(1+t.getMonth()).toString()).length?e:"0"+e,o=t.getDate()+"/"+e+"/"+t.getFullYear();$(".js-lesson-completed").text("Aula concluída em "+o)}}})};$(".js-btn-lang").on("click",function(){var t,e,o,n="",s="Substitua esta linha pelo seu código";$(this).data("language")&&(t=$(this).data("language"),e=s,s=(o={java:"// {code}",html:"\x3c!-- {code} --\x3e"}).hasOwnProperty(t)?o[t].replace("{code}",e):e,n=' lang="'+$(this).data("language")+'"');var a="\n[code"+n+"]\n"+s+"\n[/code]\n",i=$(this).closest("form").find(".js-description-textarea");i.val(i.val()+a)}),location.hash&&$(location.hash).fadeTo("slow",.33,function(){$(this).fadeTo("slow",1)}),$(".js-btn-question-edit").on("click",function(){var t=$(".js-question-title"),e=jQuery(this);t.is(":visible")?e.val("Cancelar correção"):e.val("Editar pergunta"),t.toggle(),$(".js-question-description").toggle(),$(".js-question-label-container").toggle(),$(".js-question-input").toggle()});$(".js-btn-resolve-question").on("click",function(){var e,t;e=$("[name='_csrf']").val(),t=[location.protocol,"//",location.host,location.pathname].join(""),$.ajax({contentType:"application/json",dataType:"json",url:t+"/resolucao",type:"PUT",beforeSend:function(t){t.setRequestHeader("X-CSRF-TOKEN",e)},statusCode:{200:function(){window.location=t},400:function(){console.log("Não foi possível marcar como concluído")}}})}),$(".js-btn-resolve-question").hover(function(){$(this).text($(this).data("tooltip-in"))},function(){$(this).text($(this).data("tooltip-out"))});function a(t,e){Swal(t,e,"error")}$(".js-btn-delete-question").click(function(){l($(this))});function i(e){0<e.target.href.indexOf(window.location.hostname)||(e.preventDefault(),Swal({title:"Alerta de segurança!",text:"Tem certeza que deseja ir para esta página fora da plataforma da AlgaWorks?",type:"warning",showCancelButton:!0,confirmButtonText:"Sim, desejo continuar",cancelButtonText:"Não",width:"40rem",confirmButtonClass:"swal2-actions-button",cancelButtonClass:"swal2-actions-button"}).then(function(t){t.value&&window.open(e.target.href,"_blank")}))}var l=function(e){Swal({title:"Confirmação de deleção",text:"Tem certeza que deseja deletar a pergunta/mensagem?",type:"warning",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"Não",width:"40rem",confirmButtonClass:"swal2-actions-button",cancelButtonClass:"swal2-actions-button"}).then(function(t){t.value&&r($(e).data("for-message-id"))})},r=function(s){var e=$("[name='_csrf']").val(),t=0==$(".c-forum-message#"+s).length?"/forum/topicos/":"/forum/respostas/",o=[location.protocol,"//",location.host,t,s].join("");$.ajax({contentType:"application/json",dataType:"json",url:o,type:"DELETE",beforeSend:function(t){t.setRequestHeader("X-CSRF-TOKEN",e)},statusCode:{200:function(){var t,e,o,n=$(".c-forum-message#"+s);n.length?(Swal("Sucesso!","Comentário removido com sucesso!","success"),e=$(".js-replies-count"),2==(o=$(e).text().split(" ")).length&&((t=o[0]-1)<1?$(e).remove():$(e).text(t+" "+(1<t?"Respostas":"Resposta"))),n.remove()):Swal({title:"Sucesso!",text:"A pergunta foi excluída com sucesso!",type:"success",onClose:function(){var t=$("#lesson_id").val(),e=[location.protocol,"//",location.host,"/aulas/"+t+"/slug"].join("");window.location=e}})},400:function(){a("Não foi possível deletar a pergunta/mensagem")},500:function(){a("Erro interno ao deletar a pergunta/mensagem")}}})};$(".js-btn-add-lesson-content").click(function(){e(".js-form-content-edit"),e(".js-article-content"),$(this).hasClass("js-content-off")?(m(),$(this).text("Cancelar alteração do conteúdo"),$(this).removeClass("js-content-off"),$(this).addClass("js-content-on"),$(this).removeClass("c-button--primary"),$(this).addClass("c-button--danger")):(f(),$(this).text("Alterar conteúdo de apoio"),$(this).removeClass("js-content-on"),$(this).addClass("js-content-off"),$(this).removeClass("c-button--danger"),$(this).addClass("c-button--primary"))});function u(){"undefined"!=typeof AWFilterQuestions&&AWFilterQuestions.start()}var d,m=function(){0==$(".js-article-content").text().length&&($(".js-conteudo-apoio").removeClass("sr-only"),$(".c-accordion__tabs>.is-active").removeClass("is-active")),$(".js-conteudo-apoio").click()},f=function(){0==$(".js-article-content").text().length&&($(".js-conteudo-apoio").addClass("sr-only"),$(".c-accordion__tabs>.is-active").removeClass("is-active"),$(".js-accordion-tab:visible").click())};$(".js-message-content").each(function(t,e){var o=$(e).html(),n=$(e).clone(),s=linkify.find($(n).html(o).children().remove().end().html());for(var a in $(n).remove(),s){if("url"!=s[a].type||!c(s[a].value))return;var i=function(t){var e=t.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|useloom.com|loom.com)\/(video\/|share\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/);if(!(null==e||e.length<1)){var o=e[3],n=e[6],s={youtu:"https://www.youtube.com/embed/",vimeo:"https://player.vimeo.com/video/",loom:"https://www.loom.com/embed/",useLoom:"https://www.useloom.com/embed/"};for(site in s)if(-1<o.indexOf(site)&&null!=n&&""!=n){if(s[site]!=s.vimeo&&n.length<9)continue;return s[site]+n}}}(s[a].href);if(null!=i&&null!=i)return void $(e).after('<div class="c-forum-message__embed-video"> <iframe width="420" height="315" src="'+i+'" frameborder="0" allow="encrypted-media" webkitallowfullscreen""mozallowfullscreen allowfullscreen> </iframe> </div>')}}),$(".js-btn-edit-question").click(function(){var t=$(".js-form-question-edit-"+$(this).data("message-id"));e(t),t.is(":visible")?($(this).text("Cancelar edição"),$(this).css("color","#dc3545")):($(this).text("Editar"),$(this).removeAttr("style"))}),$("#tab-forum").click(function(){null!=AWFilterQuestions&&null!=AWFilterQuestions&&AWFilterQuestions.start()}),$("[data-accordion-pane-id='tab-forum']").click(function(){u()}),$("[data-accordion-pane-id='tab-forum']").hasClass("is-active")&&u(),t(),n(),d={events:{click:i},ignoreTags:["pre","code"],validate:{url:c,email:!1}},$(".js-question-description, .js-message-content").linkify(d)}();